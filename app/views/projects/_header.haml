.header
  .inbox
    = link_to "/" do
      = image_tag("makuake-logo.png", class: "inbox__logo")
    .search__form
      = form_tag('/', method: :get) do
        %input.search__form__box{name: "title"}
          %label
            .search__form__btn
              = image_tag("search.png", class: "search__form__btn-image", size: "27x27")
              %input{type: "submit", value: "探す", class: "search__form__btn-text"}
    - unless user_signed_in?
      .inbox__icon
        .signup__btn.icon-right{data: {toggle: "modal", target: "#my-modal-signup"}} 新規登録
        .signin__btn.icon-right{data: {toggle: "modal", target: "#my-modal-login"}} ログイン
      = link_to "https://www.makuake.com" do
        .signin__icon-text.icon-right お気に入り
      = image_tag("heart.jpg", class: "icon-right signin__icon-heart", size: "18x18")
      = link_to "プロジェクトを掲載する", new_planner_registration_path, class: "inbox-published"
    - if user_signed_in?
      .inbox__icon
        = link_to destroy_user_session_path, method: :delete do
          = image_tag("icon_yellow.png", class: "icon-right inbox__icon-own")
        = link_to "https://www.makuake.com" do
          = image_tag("bell.jpg", class: "icon-right inbox__icon-bell")
        = link_to "https://www.makuake.com" do
          = image_tag("mail.jpg", class: "icon-right inbox__icon-mail")
        = link_to "https://www.makuake.com" do
          = image_tag("heart.jpg", class: "icon-right inbox__icon-heart")
      = link_to "プロジェクトを掲載する", "", class: "inbox-published"

.modal#my-modal-login
  .modal-dialog
    .rogin__signup
      %h2.rogin__title ログイン
      = link_to "新規会員登録はこちら  >", user_session_path, class: "rogin__link"
      .rogin__sns__signup
        %h3.rogin__means SNSで登録
        .rogin__sns__bar
          = link_to "Facebook", "/", class: "rogin__sns__bar-botton facebook"
        .rogin__sns__bar
          = link_to "Twitter", "/", class: "rogin__sns__bar-botton twitter"
        .rogin__sns__bar
          = link_to "LINE", "/", class: "rogin__sns__bar-botton line"
        .rogin__sns__botton
          = link_to "Ameba", "/", class: "rogin__sns__bar-botton ameba"
      .rogin__makuake
        %h3.rogin__means Makuake IDでログイン
        = form_for(resource, as: resource_name, url: session_path(resource_name)) do |f|
          .field
            .form__text メールアドレス
            = f.email_field :email, class: 'form__box'
          .field
            .form__text.form__text-margin
              パスワード
              %p.form__text__small
                ※半角英数字
                %br
                  6文字以上
            = f.password_field :password, class: 'form__box'
          = link_to "パスワードを忘れた方はこちら  >", new_password_path(resource_name), class: "pw__forget"
          .action
            = f.submit "OK", class: 'action-btn-signup'

.modal#my-modal-signup
  .modal-dialog
    .rogin
      %h2.rogin__title 会員登録
      - if devise_mapping.registerable? && controller_name != 'registrations'
        = link_to "ログインはこちら >", new_registration_path(resource_name), class: "rogin__link"
      %p.rogin__copy ＼約1分で登録でき、Makuakeを楽しめます!／
      .rogin__sns
        %h3.rogin__means SNSで登録
        .rogin__sns__bar
          = link_to "Facebook", "/", class: "rogin__sns__bar-botton facebook"
        .rogin__sns__bar
          = link_to "Twitter", "/", class: "rogin__sns__bar-botton twitter"
        .rogin__sns__bar
          = link_to "LINE", "/", class: "rogin__sns__bar-botton line"
        .rogin__sns__botton
          = link_to "Ameba", "/", class: "rogin__sns__bar-botton ameba"
      .rogin__makuake
        %h3.rogin__means メールアドレスで新規登録
        = form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f|
          = devise_error_messages!
          .field
            = f.label :メールアドレス, class: "form__text"
            = f.email_field :email, class: 'form__box'
          .field
            = f.label :ユーザー名, class: "form__text form__text-margin" do
              ユーザー名
              %p.form__text__small
                ※全角・半角
                %br
                  英数字3-20文字
            = f.text_field :username, class: 'form__box'
          .field
            = f.label :パスワード, class: "form__text form__text-margin" do
              パスワード
              %p.form__text__small
                ※半角英数字
                %br
                  6文字以上
            - if @minimum_password_length
              %em
                (#{@minimum_password_length} characters minimum)
            %br/
            = f.password_field :password, class: 'form__box'
          .field
            = f.label :確認, class: "form__text"
            = f.password_field :password_confirmation, class: 'form__box'
          - if devise_mapping.rememberable?
            .field.check__box
              = f.check_box :remember_me
              = f.label :Makuakeからの最新情報を受取る
            .field.check__box
              = f.check_box :remember_me
              = f.label :利用規約に同意する
          .action
            = f.submit "OK", class: 'action-btn'
